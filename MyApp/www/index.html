<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nav</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
    <script type="text/Javascript" src="js/armazem_cookies.js"></script>
    <script type="text/Javascript" src="js/index.js"></script>
    <script type="text/Javascript" src="js/model.js"></script>
    <script type="text/Javascript" src="js/controllers.js"></script>
    <script type="text/Javascript" src="cordova.js"></script>
    <script type="text/Javascript" src="js/elementos_customizados.js"></script>
    <script type="text/Javascript" src="js/angular_script.js"></script>
    <link rel="stylesheet" href="css/estilo.css"/>
    <style>
      :root {
        --ion-safe-area-top: 20px;
        --ion-safe-area-bottom: 22px;
      }
      *{
        margin-top: 0px;
        padding: 0px;
      }
      ion-tab-bar, ion-toolbar{
        padding-top: 0px;
        padding-bottom: 0px;
        --ion-safe-area-top: 0;
      }
      ion-chip{
        width: 90%;
        padding-left: 10px;
      }
    </style>

    <script type="module">
      import { menuController } from 'https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/index.esm.js';
      window.menuController = menuController;
      import { loadingController } from 'https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/index.esm.js';
      window.loadingController = loadingController;
    </script>
    <script>
      async function handleButtonClick() {
        const loading = await loadingController.create({
          message: 'Por favor, espere...',
          duration: 3000
        });
        await menuController.close();
        await loading.present();       
      }

      
    </script>
</head>
<body id="deviceready">    
  <ion-app  ng-app="myApp" ng-controller="myCtrl"> 
        <ion-menu side="start" content-id="main-content">
          <ion-header>
            <ion-toolbar translucent>
              <ion-title>Produtos Total: R$ 00,00</ion-title>
            </ion-toolbar>
          </ion-header>
          <ion-content>
            <ion-list>
              <ion-item>
                <ion-icon name="mail" slot="start"></ion-icon>
                <ion-chip>Pizza</ion-chip>
              </ion-item>
              <ion-item>
                <ion-icon name="paper-plane" slot="start"></ion-icon>
                <ion-chip>Hanburguer</ion-chip>
              </ion-item>
              <ion-item>
                <ion-icon name="heart" slot="start"></ion-icon>
                <ion-chip>X-Burguer</ion-chip>
              </ion-item>              
            </ion-list>
            <ion-button onclick="handleButtonClick()">Carregar</ion-button>
          </ion-content>
        </ion-menu>
    
        <div class="ion-page" id="main-content">
          <ion-header>
            <ion-toolbar>
              <ion-buttons slot="start">
                <ion-menu-button></ion-menu-button>
              </ion-buttons>
              <ion-title>Itens</ion-title>
              <ion-title slot="end" id="valor_total">TOTAL: R$ 00,00</ion-title>
            </ion-toolbar>
          </ion-header>

          <ion-content class="ion-padding">
            <ion-tabs>
              <ion-tab tab="music">
                <ion-content class="ion-padding">
                  <ion-nav >
                    <ion-header >
                      <ion-toolbar>
                        <ion-searchbar show-cancel-button="focus"></ion-searchbar>
                      </ion-toolbar>
                      <ion-toolbar>           
                          <ion-button size="xx-small" color="primary" class="botao_de_ordenacao">Cód.</ion-button>
                          <ion-button size="xx-small" color="secondary" class="botao_de_ordenacao">Nome</ion-button>
                          <ion-button size="xx-small" color="success" class="botao_de_ordenacao">Preço</ion-button>
                          <ion-button size="xx-small" color="success" class="botao_de_ordenacao" slot="end" onClick="presentToast()">Múltiplos</ion-button>
                    
                      </ion-toolbar>
                  </ion-header>
            
                    <ion-content >
                      <ion-list>                      
                          <ion-item button ng-repeat="pdt in prod" ng-click="showDetail(pdt.sabor)">
                            <img src='{{pdt.icone}}' width="100">
                            <ion-label >
                              <h3>{{ pdt.sabor }}</h3>
                            </ion-label>
                            <ion-text >R$ {{ pdt.valor }}</ion-text>
                          </ion-item>
                     
                      </ion-list>          
                    </ion-content>
            
                    <ion-footer>
                      <ion-toolbar>                        
                      </ion-toolbar>
                    </ion-footer>
                  </ion-nav>                  
                </ion-content>
              </ion-tab>
        
              <ion-tab tab="movies">
                <ion-header translucent>
                  <ion-toolbar>
                    <ion-title>Comanda</ion-title>                  
                    <ion-button  color="success" slot="end" onclick="handleButtonClick()"> 
                      <ion-icon name="send-outline"></ion-icon> 
                      Enviar
                    </ion-button>
                  </ion-toolbar>
                </ion-header>
        
                <ion-content >
                    <ion-list>                    
                        <ion-item >                            
                          <ion-label>
                            <h3>Cod.: 02</h3>
                            <p> Calabresa </p>
                          </ion-label>
                          <ion-label>
                              com alho,  frango, carne, cebola
                          </ion-label>
                          
                          <ion-button>
                              <ion-icon slot="icon-only" name="remove-outline"></ion-icon>
                          </ion-button>          
                                                    
                          <ion-badge color="primary" size="xx-large">11</ion-badge>
                          <ion-button>
                              <ion-icon slot="icon-only" name="add"></ion-icon> 
                          </ion-button>
                          
                        </ion-item>
                   </ion-list>
                </ion-content>
              </ion-tab>
        
              <ion-tab tab="games">
                <ion-header translucent>
                  <ion-toolbar>
                    <ion-title>Meus Pedidos</ion-title>
                  </ion-toolbar>
                </ion-header>
        
                <ion-content fullscreen class="ion-padding">
                  <h1>Meus Pedidos</h1>   
                               
                   <ion-label>Bordas</ion-label>
                
                   <ion-select name="bordas" interface="popover" id="seletor" ionChange="teste();">
                     <ion-select-option value="catupiri">catupiri</ion-select-option>
                     <ion-select-option value="catchup">catchup</ion-select-option>
                     <ion-select-option value="recheada">recheada</ion-select-option>
                     <ion-select-option value="mostarda">mostarda</ion-select-option>
                     <ion-select-option value="maionese">maionese</ion-select-option>
                   </ion-select>
                  <ion-toggle (ionChange)="teste();"></ion-toggle>
              </ion-tab>
        
              <ion-tab-bar slot="bottom">
                <ion-tab-button tab="music">
                  <ion-label>Cardápio</ion-label>
                  <ion-icon name="pizza-outline"></ion-icon>
                </ion-tab-button>
                <ion-tab-button tab="movies">
                  <ion-label>Comanda</ion-label>
                  <ion-icon name="create-outline"></ion-icon>
                </ion-tab-button>
                <ion-tab-button tab="games">
                  <ion-label>Meus pedidos</ion-label>
                  <ion-icon name="bicycle-outline"></ion-icon>
                </ion-tab-button>
              </ion-tab-bar>
            </ion-tabs>
          </ion-content>
        </div>
  </ion-app>

  <script>
    async function openMenu() {
      await menuController.open();
    }
  </script>
  
  <script>

      function atualiza_total(){
        var valor = storage.getItem("total");
        var valor_total = document.getElementById("valor_total");
        valor_total.innerText = "Total R$ " + valor;
      }

      atualiza_total();
  </script>
  <script>
      const searchbar = document.querySelector('ion-searchbar');
      const items = produtos.pizza;//Array.from(document.querySelector('ion-list').children);

      searchbar.addEventListener('ionInput', handleInput);

      function handleInput(event) {
        const query = event.target.value.toLowerCase();
        requestAnimationFrame(() => {
          items.forEach(item => {
            const shouldShow = item.textContent.indexOf(query) > -1;
            item.style.display = shouldShow ? 'block' : 'none';
          });
        });
      }
  </script>
</body>
</html>
